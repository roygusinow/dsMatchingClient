% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ds.matchit.R
\name{ds.matchit}
\alias{ds.matchit}
\title{This function performs propensity score matching in a federated DataSHIELD setting.
It estimates propensity scores using a logistic GLM, applies privacy-preserving noise,
and matches units based on the noisy scores using the `MatchIt` package logic on the client side.}
\usage{
ds.matchit(
  formula = NULL,
  data = NULL,
  newobj = "matched_df",
  datasources = NULL,
  ...
)
}
\arguments{
\item{formula}{A formula object. Specifies the GLM used to estimate the propensity score. The treatment variable must appear on the left-hand side.}

\item{data}{A character string. The name of the data frame on the server-side.}

\item{newobj}{A character string. The name of the new object to create on each server containing the matched dataset. Default is `"matched_df"`.}

\item{datasources}{A list of `DSConnection-class` objects. If `NULL`, the function uses `datashield.connections_find()` to detect active connections.}

\item{...}{Additional arguments passed to the underlying `MatchIt::matchit()` function on the client side (e.g., `method`, `distance`, `replace`, `m.order`).}
}
\value{
A list containing:
\describe{
  \item{subclass}{A vector of subclass labels for the matched samples.}
}
}
\description{
This function performs propensity score matching in a federated DataSHIELD setting.
It estimates propensity scores using a logistic GLM, applies privacy-preserving noise,
and matches units based on the noisy scores using the `MatchIt` package logic on the client side.
}
\details{
This function fits a logistic regression model using federated GLM (`ds.glm`) to estimate
the propensity score. It then adds noise according to the selected privacy scheme and
performs client-side matching using `MatchIt`. The final matched data, including weights,
is re-assigned to the servers via `matchitDS2`.

**Server-side functions called**:
\itemize{
  \item `assign_IDDS`
  \item `matchitDS`
  \item `matchitDS2`
}
}
\author{
Roy Gusinow
}
